<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculatrice</title>
<style>
       .calculator {
           width: 200px;
           margin: 50px auto;
           border: 1px solid #ccc;
           padding: 10px;
           border-radius: 5px;
           text-align: center;
       }
       .calculator input {
           width: 100%;
           height: 30px;
           text-align: right;
           margin-bottom: 10px;
       }
       .calculator button {
           width: 45px;
           height: 45px;
           margin: 5px;
           font-size: 18px;
       }
</style>
</head>
<body>
<div class="calculator">
<input type="text" value="0" readonly>
<div>
<button>7</button>
<button>8</button>
<button>9</button>
<button>/</button>
</div>
<div>
<button>4</button>
<button>5</button>
<button>6</button>
<button>*</button>
</div>
<div>
<button>1</button>
<button>2</button>
<button>3</button>
<button>-</button>
</div>
<div>
<button>0</button>
<button>.</button>
<button>=</button>
<button>+</button>
</div>
<div>
<button>←</button>
<button>C</button>
</div>
</div>
<script>
       // Code JavaScript fourni dans le TP
       function button_click(evt) {
           var input = document.getElementsByTagName("input")[0];
           var key = evt.target.textContent;
           if (key === "*" || key === "x") {
               key = "*";
           } else if (key === "/") {
               key = "/";
           } else if (key === "←" || key === "&lt;-") {
               key = "<-";
           }
           if (key === "<-") {
               input.value = input.value.substr(0, input.value.length - 1);
               if (input.value === "") {
                   input.value = "0";
               }
           } else if (key === "=") {
               try {
                   input.value = eval(input.value);
               } catch (ex) {
                   input.value = "err";
               }
           } else if (key === "C") {
               input.value = "0";
           } else {
               if (input.value === "0" || input.value === "err") {
                   input.value = "";
               }
               input.value += key;
           }
       }
       window.addEventListener("load", function(evt) {
           var buttons = document.getElementsByTagName("button");
           for (var i = 0; i < buttons.length; i += 1) {
               buttons[i].addEventListener("click", button_click);
           }
       });
       console.log("calculette.js loaded");
</script>
</body>
</html>
Dispose d’un menu contextuel